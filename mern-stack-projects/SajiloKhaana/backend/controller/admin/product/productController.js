// This is a comment. It's like a note for grown-ups to understand the code.

// Require the necessary module for your Product model or collection.
const Product = require('../../../model/productModel'); // Replace '../models/Product' with the correct path to your Product model or collection.

// This function is for creating a new product.
exports.createProduct = async (req, res) => {

    console.log(req.file)
    const file = req.file
    let filePath
    

    
    
    if(!filePath){
        filePath = "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHCBUUFBcSEhIYFxcXGhcaGhgYGhwaFxcXGhoaGxobGBsbICwkGx0pHhoaJTYmKS4wMzMzGiQ5PjkyPSwyMzABCwsLEA4QHhISHjIpJCo1NDUyNDIyNDIyMjIyMjU0MjAyNTIyMjIwMjIyMjIyNDIyMjIyNDIzMjIyMjIyMjIyMv/AABEIAQoAvgMBIgACEQEDEQH/xAAcAAABBQEBAQAAAAAAAAAAAAAAAQQFBgcDAgj/xABGEAACAQIDBAcFBQMLAwUAAAABAhEAAwQSIQUxQVEGEyJhcYGRBzKhscEUQlJy8CNigiQzc5KisrPC0eHxNDVjQ1ODk9L/xAAaAQACAwEBAAAAAAAAAAAAAAAAAwECBAUG/8QALBEAAgIBAwMACgMBAAAAAAAAAAECEQMSITEEQVEFIjJhcYGRocHRExSxQv/aAAwDAQACEQMRAD8AyI0lFFWAKKKQUALRRRQAUUUUAFFCrJA5mPWn2OvoFW1aHZGrN9648RJ5Aawu4TxMmqt06JS2GNEV5zUBjUkHqigMPCiKACiiipAKKKKACiiigAooooAWiaSigAooooASlpKWgBKWiigAoortZAALtwIyiPebl4DQmobolI4loEA79/hppQq91cwa9EmoIOqoJ3+gmpK3hBElj+vKoq24HAeJmprCvmWQSeYqUBHXsLHdJ0I3evCm7W2XeNDxGo+FWvaWDK4UPxLgqBxEb+/lUI4GWYiRqAOPhUJ2WkqI40U/2LgetuKpgorIXEkEpm7WWBvj51LdKcHhLQ6vDEm4lwgsc83EZc06jKQphRBUiGkNIao1K67kU+StUUUVcgBRRRQAUUUUAFFFFACUUUUAFLSUtABRRRQAtpCzBRxMV0xz9rIB2UlR3wdWPea8WVllE5ZIE8pMTXnEKQ7DiGI85NUfJbsJatljAq3bE6JLcjrGOvKmGxcHABI1PyrRNiWxCkEHzpWSbXBow4k95HHC9AcNA7JPidakl6HWlHZTymasOGGlSFlaSpSfc0uEVwjMOlWz3UKCIyDcBoazvG3TmYf819D7Z2Sl5CCIMH41iXSzZhwt5kYTmBIPCKfjn2MuWH/SIzYNrrLpQH3laSd0iDOm/WrrtLo3aXClrmZ2yEWspykXeA5FToTPI1StiZkvoQYDECdJg8p7xFXN8ezJmutPVtCqNAWgZdOJ1ifGk59WtOLpHS9H4J5sTi3Ue5nUc6SpLpAiriLgTdmk9zESwHdJNRtbE7VnHyR0TcfDa+gUUUVJQKKKKACiiigBKKSlqAAUtFFSAUUUUAFd7FqboXeC288a4VI4YTkfkdfH3f141SboZjVks6oCOschPwjSfE8u6pDBJhCR1GKe1c4DtwfHSK94HY/2kZZE99WnZHRpbLNcuKDKFGzQwIiNxETGmorO5LuzWoy7JCbLxWIuZsN9oy3RlK3FUN2dDMbjI499Otu7XxFpypv27KD70ZmI5mYAqO6HqDjnZfdAIEmdBAGtTXSjYK3iHKyCGU/uyCJHfrv7qXwxztqj1srEdaudNpl3G4QnVk8io1jhvqD9oGDN20lx0AuIWUxqCCpMqeWlSeD6E2SlqSc9vXOvZuEwAJYcBlGnOTrNd+luHAw+QE6TqTJnKRqTv31ZySkmmLUbi00YxZtuWVQCWUyoHHSRHmB6ipvaeIz4dri6aqfH7hI75M+lSNjZiWlL3XRUBtB2zEXMmZdyQSvaESJ1EgQKrO2Meru62F6uxnLIkk/xEnXXfG4cqbWt34IwdU8EZwfdfci6KKK0HPCilpKACiiigAooooA80tJSioAWiiipAKKKKAAVI7OvKFZDvkMPgI7tQPWo4VP7Iwdl8NediTemAojsosMW37tCZ/dA5zTI0lbL403LYtHRbEZXq4be2iLeHZhq0QB3ms92BeUurTo3wP8AzTvpFiGt3IctkMREHf4msco3I6UJeqT3s/T9q7EgmN/iauG0sT1a5mErMNHAHj4VnfR3Fi28tavyfdKJKkxMHKTM93Orlf2/aVFW9Yu20ukICyHtM24R73HlUSi2WjF0n+Sd2XfUiQajNtWRdZbZ1BYE8d2uo5U22ZgXtuwR/wBnpAO8TwrztmzfYFcMwV8lxyxIGVVUwdQdcxHDgaq29kFJXIzzpLtpUv4iycNauaC2C8nLoC5JBBzBixEEQxJ4CqSacXQ0lnMtmIYkkkmdSSd/iabmt8FSo5eSWqTYlFFFXKBSUtFACUUtJQAUUUtAHmgUtFABRRRQAUUUUAApQSNx36HvHI0gooAmdh3yAw4Ag+E/8VasSv2q3l3kR41VtlYcqzhhHuz8asWy7j2nDgSOPhWXJWrY34bSRI7Et4yzC2mIgyCGgboJgjTSrxsvZ7CLl9y7wIzGQukad8dw+p87Lxtt7Zce6pAYxuJjT4092hj0TsqJcjRQNYPEjhSXJtGuU3wkl70txHvLbBJ/RrH9t9LMR9rvujAKQ9kA6hUGdSRG49pj51puMudXbe/d3KCY/XGsIxN0uWeILMWMcyZPxNXwxUrtGTqZuKSR1aSpJ5jXnNcGpxg80FYJBHDu19N+lc3AiZ1nlw4/SthhONFFFSQFFFLQAhooNFABRRRQAlFFFABRRXtEnjH64UAeKVFJMAEk7gNSfAU9t4KRNts5G9YhxyhJl5192Y0mJp1gLmQ57YyuN6wWDKBJJ7vAafOrdFoqzzhthXG1fsDlvb04U+OAt21JCZiN5bf/AKDyqw4G4mItdYoggwy78rDh9fOmZwhZsqKGM7jBUAasWB3gAUmWR9zVDFF1XchdmSMwJklt/kBxq4bKw+cQRTexsAs2Yfe103GddKkrNtrAZmGiqTPgJpE5WaYxokui9nP9oRX0FxCRwKqRu5Hs76thwy5y5GvfyFVXodFvDvcJ1ZhP5ZAM+Ak1asXdj3d0Tx8frVZUTbdGb+1Ta5AXDodDq/luHrWau8ARyqzdOA9y6Wbd2o+dVSNDPAafStWJVEwZ29R2wZYElTrv8andn9GL2Js9fh8lyCQ9uctxDw97RgRqDI9agMGxmR4Vpfsswzu75eysDO3ABS2veZJjxPI0yV1sLgk3uZ9itl3rZK3LF1SNTKNEcTMQR31wuYd1AZrbqp3MykKfAkQa+m8I4NwW7Yyoq5m5sOGY9++pFhn0IBHIiRHhVl7yGj5ONLW0dNfZravM2Kw923htJdGX9kT+MZT2J4gAg74BmcpxOx3QkBkuROqFoPeM6rQ2lyXhhnkvSm68IjDSU5xWDuW8puW3QOJUspAcc1J0YajUc6b0C2mnTEoopakg80UUUAFd1sdnMf8AgGuCrJippMP2dRpuNUk6LwjY1su1twysARJRyAdYIiD5+s8qc4kpbyXEBFu4T2Do+VSA+kkAFtRB9Ipi4iUIGZTmWeOmvqAD/D304wTg9ZY1yv2hDCWK+6oDaGZE7j6RU8or7L2JrZON6nEdtgUvQHAM5D9wzzEwZ76m7bsmIQIcsMxJMFcoEEsv3gM2o492+qhhSWQ2iQCpgAqSY94s0iV5ct+7jL7FxQdkzHMy7goMtosMeUbjPfprSJI24JK6fHJq2BwsgE6zrOXLM8cvDwqN6Yxbwpje7Kvzb5LU1si6Hto2YNIGo48OZqm9PdoZ7y2QdLSyfzvrr4Ll/rGkRj6w1ydHjoJcfOzOTkRHkcNd8+VXy97oJHAR4Rr8hVR2Faa3grjZdXyqOH84yqfnVvvqTbH5QR6VDdtl+EjLenoXOEUgEqxPnoNee/SqHi7BFwoQFIJBUGQIO6au20HW5cuXCHcBgOzP82NXCngYEzwFU7FpBmOJ57vmTWnFsjN1O9De0+RoIrYvZtdDYcoNEQs95oiRPYQc9Br/AL1j6oNMw37q2joeVGz7KJobtwZzzXrcg+A+FPRkRfMBYgNcIhrmpHIaADyAFO2WBNdLui+grhtPEC3YuXGMBEZj5CgDL/aF0iNy4cLbb9nbjPH3rnI9w+dVrC2baquIvyVzHKijW6V3zJEICQCd51A4kR+ED37mUavceB3s7QJPiasmLa0LdxsMofqbcLdcKyqEQuCiEZe0QWJYHVjupG8nZ6dZYdJhjDzzXJUNstcey1y6xuM2IktHuDIQD+6ryAo3fsSOEVXquGzNs3bi3hdIvsEZ1F0swIVlLpoQcmUZ4BABtjgSDXdtWlW8wRQqkW3CjcvWW1eBO4SxgUyD7HC6uFPV5GNFFFMMZ5ooooA7YRZbwqw4TcRUJgF41MYfupM+R2NbDPauFMZ13r8qi7dzK6sI96RP3TPGNRG/TuqzM/Pz/wB6rW0bAR+z7p1HdUwfYjJHuOQwRyACFI0GbVhwhhpB8xwMkU/wWNCXGLDKkQ2Ve0CQMxUTodPDfrUPiG7WYcYM71nd2d+g9R3Uo0BIECOciJ+tEo2TjlXPY2/ovjs1sAvmIZl46AHRdQOHcNCPGqRtm91mJuvzuMB4Kco+AFe+i+3EtJBZd2ZUAynicveYA+JplhQS4nUlvjNIqmzUnaRpb4f+Qop07drd3Op+nwqdvaIsctKgdpXcuEtCYPWIPg3+lTSkm2h7qUN/Zm+PwYW7etqSqhi6AL2WFwJmBbiILCO6qPtTDEAvGitl8z+hWw7TwxLhFEtdZVUcM8ESfBR/ZqG9o2xVsYS2ltZCkgnSWY7ye8mn4re4nqXHhGSZCCGbdpW0dC7mfAYZwI/lFpPJbvHyFZBhsM1wgDtHkOXeeFbH0GEYDDWiIKYsq3jJcH0Za0X2MixyUdVOvPY0jFHsjxqme1DafV4UWFPau7/yLvq4YoiVB0GpPcBFYv002t9ovO4PZHYQdw0J/XKqTlSN3o3p/wCbKm+Fu/wcegeEzXWvEaW0aPzv2F+Bc/w1HX2e0MTaXRYIcc0zzp5VbeimE6vCBo1usX78iSifHOfMVWukSdXdxHK5aJ+Q+dLi96HdZO8t+NvoRGy8Gc7Muq9TiCSOA6l/hMVHbWWbVl2979pbnmiZCk94LuvgoHCpHY2JZcJiVXeTZUtOq22ZywHiy2x4TzqO22exhl4dU7ebX7q/JRVsfJHWyjLHqiq3X+EVSUtJTzkCUUUhqAJHBjTyqVw1ReH3elS+FXSks0RDFJpVbxzydasuL0WqtiTLVMSMnB6uahW56GNwI4Rw/UU6wWHzq3LsyRxJMRFNktllUKJMkCNIO+O/nPCrHs/BFAEzDXfpoSJIHxETvijLLSienhrlR1wOzCzAWxOUGeesb++BUvs7BN1gMaA611wA6sh51HMxp97ThAmY5EmrVdxVixh2xDQFie8sdygHieVZVNtUzc8SSTRz6T4iLFpZ33F/uPVj2Hez21B3xWIbY6S3sVcQnsqjdlF3CdxJPvMRIju8at3R7pmAQr6ZQJImJ10EgSdDw4GrfxtKxWuMm4rsWzpkfctp7+rb4yk9hSfIuf4DVf2ztG5iMK1i9JuWiCCdGcQY3xMwe/TWkv7ZOIuF9xeIHFbQ0BbT3WEjuL99O8ThUuFezLAKBv0E8BpwnX93vpOvTJtG+OOEoKM18zP8JibSZVLENmCnSMo3GTw+NaX0Acmx1Ddo2sUDm/Gri2yk98N8qr22OiD3rf2mxGfM2a3pFxFdoZT+KOB3iNx3y/spujNew5BzW3R5bflJtqFIO4rkjzrbiae6MvV5ZShpaSSe1fDuW7p5tXqLJVTD3AFXnBJzH0HxrJFw7XHW0glmKqOUkxryFW72l4otjFt/dtW1P8TEn5RUV0WtAO+Ibh2E/Ow7RHgk+brVZu5HS6BLpujeR8y3/RZ3RUVbaHsqFRPBRvPeYnxNUvp2sAOOKsp9QR9auD3JJngB+vQ1WumKZ8O54rDfQ/Oqx9o5Et+SmbLJ6nExuyW58esWPrTfbd0sMOTwsBfJb14D4CneAUjDXm5vZWfK4x+S/CmW1vdsf0J/x79Nx8k9SqxJ+8jqKSinHNEpBS0KNagCTwizFTlhYFQ+DVj7o8zUgxuKNXT0P+tJZpjweNov2TVdtWGdiFEn4Dx5VZcBhGxDHPGRd5We0eQ5CpfDYEA5EUADgBRqon+NyI/Y+yMoAOra68p3gd1SGN2aycYmCG/Aw1Uydw4HuJqzYDAhFkinaWRcaGGlIlOzVjgoVRV1uCAW0zjUQQMw07uIHZMxBEb3Ebtq7bKRdYlQSQAxBzdyne0HiPmTVg6V4O3YClGMvJKxmyoolng8F7O7mo5RnF661xg2YRLRnMqojSZJjT41GPFJvV2GZupjCNLdv7HZO1mKr7uolRmEgLaUEGCSSDzMcgafYrZow62luSJIZo1luWnDhT7oZs3rL1q3lOhW6wOssRFue4LncfnG/fVi6b4RTisNbkCXAMjSWOg84jzrU47GGDeorqsQvWMYYFD3gA6CBopMzAjhO4mpvZmMuXG0GVmbIg4hjAM68AN0ayeIFctq7ONthl+9PCfEgU56K5UudYeAKqNNJ94tG9j+tSayZMbR0cfU3Gmadg7KLbW2NyKFHgBFNrGDSxebEJbXO4VXYaFlUyJ4EjnXnDX51BqRRwwg1aL8cmWa5vdGZdOrhOMu3crBHVApI35VUN5gzXSzCFLE62hDDTW6/auE96mE/wDjq7bb2aHtNljMozISAYdO0hg79QNONZLg3CsWLNLEljOpJMkk8yTVk7uzf6+fBGGNWo8+fcXu2/x3j5VDbctTbuKOKNp3RvHhyptaxaEhevYHiC0n0NdcS7hdSHG8MN4P7w5eFSkYGyppby4W2OLtdufwyqL8bb1F7bENaX8Nm3P8Ra58nHrUpj8VnAyrlVURAvIIgB9SC38VRnSPTFXUG62wtf8A1Ktv/LTMftMf6RpYccV8SLooop5xxK92hqK8V7svBnkKhkrkmbFwLlUdp2ICqN5J3R+orji7hLFSZgkabtKl+h2BBc33MtqF5gsDqPIH1qBuIVdlO9WIPiDFJkb+mpvdF16KWJs6cZ+dWPC4ELrVe6EXhkZDwPwq2l+FZ5OmPlGm7ParOlOkC21LuQoUEknQADUk1yw68apnTzpCCfsdozuNzKdSfuoOfAsOUDiarGLkys5KKshttbR+0YtL/bylCbZiBbCswDmSJURmOo3xJAgwuBtLcuAOcy5nd2EiUUB3I0BEqpA0GrDdTrZWJRrZVrhW5b7VuOyrqzQyHdKkkMRpoD5JsjZ1y7cGHQDrb7ldBHV21aXYrplUkTEDRI4xWyOyoxyjqkpdn9PgaT7Kdnm4LuMuLHWM2XTQcIHcACB3GjFYIY7HOVI6qyQWYaNnHuhTGkGdRHjpFW66tvBYRMLZID5QlsGMzNGp7zvJrnsfZv2LCgOFa6e05Ue/dbcJiTrA1+FWrsWi0k5PnhfsixskXLh07NpAo5ZiJI8lj1NUTax+x3+1ojtr3fveU691bJhsF1dsA6sZLHmx1Y+tYx7Vrh65ViBlHxJn5VLiqoVrd2W7Y+0NwJnv51ZrV2RIrFujG2jby2XbTTKTwncp7uXpyrUNlY4MBrWKcdLN0Xa3JrG48JZuu25Ec+MAwPM6VjIq3dPNqwFwyHV4d/yg9keZBP8ACKpqnhUrg7nouGiEpPv+C32NmhsIj3EBBVmG6cqMwJ5zAkeVMkw/VOLNxmCvpbeeO8I3CeXOrls1AuHtrIDohBDGYAtzIX94kEeJqE2thhctsh5Sp5MuqmfEU7g4GSSlkk15dfUqf2DNjLdoj3rlsMOEFhmPcIk+tVLaOJ6y7dujdce44nfDOW+tXPEYvKuIxZ0KWQimYPX3l6sR3hTcb+A1QwKZjXLKdZk1KEfC/wBFopKKYYRKFpaSgCz9GsZlcpPvKY7zpA9JpvtqxF0vAAeWEGdT73nOvnTDBPqrDeDPpVy+wrftgawdVMagj6jlWeextwzUXbIPYGP6q5ruOnl+ta0PBXg4DAgjnWc4zZF202UoTG5l1BHPTdXG5iHRSs67iNf7Ub/ClOGpnSm4Sjqb4+5dOlHS1MOht2WDXSI01Fvvbv7qy65dJOaTJJJJMksd5k85rs9lmJJjXuiO4AbvCn2y+j9/EPks2827MdQijmzcP1oafCKiqRx8spTd9iOwq5nXgsiTMZRvJ8hJrXuhHRO9dsnFm89hrxJTKAXFrhJOva36EaAE0x6J9BbYvBXPWMutxtyKPwqOM8z37q2FFCgKBpy5UzSnyRHJLGtnyQNroxaNxL153u3Le5mbT0GhHj5zTq2/XYiPuWtfG4d3oPpXTbGN6q2SN50FdthYXq7Yze8e035jqf8ATyqaS4Kyk5K2yQdNIrBPavcz4sqP/TUL4mSa35q+dvaFbZr1y9wa66jy3fACgoirpZAXNvzfBQN586tewsfibdhLgQ3Ac0awwCsVE6a7j36VVMGTmAY9kgr3VruwrSm3h1yiFRRA4aDhwMmqaFK0zXrqKa95nd/Gtddrlxpdjr3RuA5ADTyqR2FZzXA53IQRpILcJ7hv8q99MwtvG3YtZgq2ywEgQQO1mHHtRFdcFt3DKFyKF11UkgiPLUk8daVLG0dB+kk8WiKp8fItt3E5AANC4gjjEgnjpuA9ajdr4rIhedAP+KjhtHrX6zhuA5CmO2cd1gFoayde+NwHnUGXBjc5JIjOkd4rhcLa1i6buIbkxzGyn9XI5/jNVmr/AO1LZ32ddn2zvTDFW/MGBb4saoNaIqkYs8tWRtefsJRRRVhQGkpTSUAe7VwqZFWHZvSE2kOVpn7hBgn6eNVuvdg9pZ3ZlnwkVVxTLRk0XO/tK66wSEneEBHxJJ8xFRb4WpXZFpcQxgkIpgtG8/u1c8NsrDoBkSTxdzmPlwHkKXGDZodLYqnR7ok99g1ybdobz95u5Rw8TV9XCqiLhcMgUch8WY8TzJ1rwl6YS3u3VYtl4QIMx947z9KbGKQqUhxsbZy2LYRd51Y8Sx3mnl28FFc7l2N1RG1MZlQ61YpVni3/ACjECfctdo97fdH18qtVtYEVDdHcEbdsFh2nOZvPcPIfWpqaqEjniXhGJ4Ak+FYZ7SpQ2rcRILn8zEtHlura9qn9nk/Gyr5E9r+yDWU+2BFDWid4UfF9PrU9gXBm9i11ikCZQZgOfPz3VpnRx7lxbRtElsoy9/7rjlJ38OYqg7HtlzlSCzaKDoJaVE9xb5Vt/Q/ZKYe3btA5iiAFt0nex7hNVjyzVlio44vu7IfbGyFu37yvqrDKRw1QKe/d8hERWTbAwxF29bcAlUuqwIntKQuk99bligBdusfxNr4afSsV2fi1fE4m6vu3XbJodz4m2Z7uyTv8ONJhJtsiknEvfSbYuGwuCt3baFbl0qujtl3EkhSYGgiq/wBFsB12Msg+6rB2/Knag9xIC+dWL2m3P5Jgl5lj/ZH+tePZ5h4W5fI+8ttfLtt8clS1cqOp081j6Wcu7OHt1TtYJua3x6G0frWUVsXtxtzYwb8nuj+sin/LWO084AlLSUtACUlLRQAlO9l4TrbqW5IDmCRvAAJJ+FNIq4dEcFli6w7VyQvcgnX+Ij0A50EpbkxszZ1vDAqrsxJnWN/cBU1h7bvxKjlxNc8OVGqiOfOna3wKiht2T+ysGqAE76mBdqqJtgRBPnQ22KtaK02WPEYoDeajcAn2m+FI7FvtNyJ4D1+VQWJ2mW0mrp0VwHV2gzDtP2j4cB6fWouwa0onUWBXqvINc7uIVQWY6CgWcMSM1xF/CC3mdB8M1Zp7XsGXykaHKI/haY9Ca0jZdzrA138ZMflGg+U+dUv2lAfswdeyx+QFQ+C8VvRl/RDBg4i0c0du3qd0ZgfjurfNjr2mOh1isO6LWS+KsIke8hYn91gdO+AT6Vu2zFiT+ufyqsHds29XBY4xiZl006SSt6xh27TG4rOJ7KyQ0d53d2+s+6OsZurG4WW8kxFoH4NPlUiz5iWP3iSR3nU1F7NhMQpEkMt1TrvBR1k+RnyqkK3o0dd0n9eMHdt8mje067/JsAI3i4Z/KEH+apfoTajAWjEFmuMe+XZZ9FFVr2g3s2E2e37t/wCBtj6VfNj4c28LYtsIZbdoEcmyAn4k1KXrNiZSrAo+Wyv+2xJwWHblfA9bb/8A5rFa3T2xW82zEP4L9o+q3F/zVhdNOawFLQKKAEpKU0UAd8HhTcuJbG92AnkOJ8hJ8q0XZ9sZiVEKoCKOQEaegFVfodhMzXL0aW0yj8z7/RQf61XLAJFsHmSalFonq7aJ1T3vnRhcdBy3E/XhwrqrQalrK2roi4kN+IaH/egscrNyw2+2JovWbMdkRXRtjpPYuE92WT6zXe3hrSEAnM3LeR9BUkoYbL2ObtxdItzqTyG+K0nMAIFRezLBAzMIPAd3fT+DUUUkz271W9vYsn9mu86Ac6nr90QeBqt4C2buILHUJJ8+H67qCY+S14G1ktoo4KB8Kzn2lXf2oHBUk1pqrAA7qzvp1Ym6rb83ZioJx+0UjoAU+0WZ4Fm3cWlVk8szL6jy2Zn6uxcufhR29FJ+lZJ0OwStjFUKMtvrmUKdAQ2h7wNIma1PpQ/V7PxTAiRYuR4lCB8TS4cM39c9M4KXZL6GFXiFUk8AfPkB31D27kZB3afCurkt75nh4eHKmayCp/Ccp8wPqKtCGlFev67+zJUqS48l26Wvn2bs9xwN1fM5Z+KmtZa4CgYbiFPkRWPbSu59j2P/AB4q4v8AWVn+taphLmbDWjztWj6otHDYlbxXzGXtVSdk3D+F7J/thfrWB19B+0lJ2PiO7qT6XrdfPlWMjCiiloASiiigDRuiGDyYAuRrcd28h2B/d+NTNlIVR3Vz2T/26x/RpTjl5VYujjcSDTjDASJMCkxm8VwPGoZKJnAK1+51KtkUAk5d5A4TzNWbAbGt29y6+tVvob/ONV5oKyYgFLQm+hqCpC7buhUNdejOEy28x3vqefcPSo7pDvX8wqz4T3F8BQW7HdjWddP7uV0gagOw8QK0G/urNvaVvteD/SqvgZg9tEL7MgDi+R6swOG8Fqu3tQxYt7Muidbpt2x35nXN/ZDVQvZl/wBbb/I/916sftt/6O1/Sj5VTG/VN/pNXmXwMkU8Dy/2Ncnt9r8wI8xEfrurofeHnSt93x+hpxyhxhtoTgr2Hb/3bdxPzAZH9Qy/1TWv7JuH7Fhyd/UWf8NKw23/ADdz830Fbbs3/orP9BZ/w0pcuTTidxJfp+k7JxQ/8an0dDXzpX0f05/7Vi/6E/MV84VYzMKKKWgg/9k="
    } else{
        filePath = req.file.filename
    }
    // These lines of code extract information about the product from a request (req).
    const { productName, productDescription, productPrice, productStatus, productStockQty } = req.body;

    // This part checks if any of the required information is missing.
    if (!productName || !productDescription || !productPrice || !productStatus || !productStockQty) {
        // If any information is missing, it responds with a status code 400 and a message.
        return res.status(400).json({
            message: "Please provide productName, productDescription, productPrice, productStatus, productStockQty"
        });
    }

    

    // Now, we insert the product information into a collection or table.
    // We imagine a place where we keep all the product details.

    // This is like telling the computer to create a new product with the provided information.
    await Product.create({
        productName,
        productDescription,
        productPrice,
        productStatus,
        productStockQty,
        productImage: "http://localhost:8000/" + filePath,
    });

    // Add a console.log statement to indicate that the product was created successfully.
    console.log("Product created successfully");

    // Finally, if everything goes well, it tells us that the product was created successfully.
    res.status(200).json({
        message: "Product created successfully"
    });
};
